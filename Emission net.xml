<?xml version="1.0"?>
<map proto="1.3.6">
    <name>Emission</name>
    <version>1.0.0</version>
    <objective>To win you have to control all three flags.</objective>
    <authors>
        <author uuid="fe3608b7-d105-4029-8800-34b3147065b6"/>
        <!--  rockymine  -->
        <author uuid="dff980ed-9f69-491e-b79c-30c21350baf2"/>
        <!-- DoomRobotBoy -->
    </authors>
    <score>
        <limit>1</limit>
    </score>
    <teams>
        <team id="red" color="dark red" max="14">Red Team</team>
        <team id="blue" color="blue" max="14">Blue Team</team>
    </teams>
    <kits>
        <kit name="spawn">
            <item slot="0">iron sword</item>
            <item slot="1" damage="-3000" enchantment="arrow infinite:1">bow</item>
            <item slot="28">arrow</item>
            <chestplate damage="-3000">iron chestplate</chestplate>
            <potion duration="3" amplifier="25">heal</potion>
            <potion duration="3" amplifier="25">damage resistance</potion>
            <potion duration="oo">night vision</potion>
        </kit>
        <kit name="red" parents="spawn">
            <leggings color="ff0000" damage="-3000">leather leggings</leggings>
            <boots color="ff0000" damage="-3000">leather boots</boots>
        </kit>
        <kit name="blue" parents="spawn">
            <leggings color="0000ff" damage="-3000">leather leggings</leggings>
            <boots color="0000ff" damage="-3000">leather boots</boots>
        </kit>
        <kit name="obs">
            <potion duration="oo">night vision</potion>
        </kit>
        <kit name="flag-pickup">
            <potion duration="10">regeneration</potion>
        </kit>
    </kits>
    <spawns>
        <spawn team="red" kit="red">
            <regions yaw="-45">
                <cuboid min="-704.5,8,-176.5" max="-703.5,8,-175.5" />
            </regions>
        </spawn>
        <spawn team="blue" kit="blue">
            <regions yaw="135">
                <cuboid min="-660.5,8,-84.5" max="-661.5,8,-85.5" />
            </regions>
        </spawn>
        <default>
            <regions yaw="90" kit="obs">
                <block>-725.5,22,-130.5</block>
            </regions>
        </default>
    </spawns>
    <filters>
        <filter name="only-red">
            <team>red</team>
        </filter>
        <filter name="only-blue">
            <team>blue</team>
        </filter>
        <filter name="blue-has-south">
        	<all>
        		<flag-carried>south-flag</flag-carried>
        		<team>blue</team>
        	</all>
        </filter>
        <filter name="blue-has-central">
        	<all>
        		<flag-carried>central-flag</flag-carried>
        		<team>blue</team>
        	</all>
        </filter>
        <filter name="blue-has-north">
        	<all>
        		<flag-carried>north-flag</flag-carried>
        		<team>blue</team>
        	</all>
        </filter>
        <filter name="red-has-south">
        	<all>
        		<flag-carried>south-flag</flag-carried>
        		<team>red</team>
        	</all>
        </filter>
        <filter name="red-has-central">
        	<all>
        		<flag-carried>central-flag</flag-carried>
        		<team>red</team>
        	</all>
        </filter>
        <filter name="red-has-north">
        	<all>
        		<flag-carried>north-flag</flag-carried>
        		<team>red</team>
        	</all>
        </filter>
        <filter name="blue-has-all">
        	<all>
        		<filter name="blue-has-south"/>
        		<filter name="blue-has-central"/>
        		<filter name="blue-has-north"/>
        	</all>
        </filter>
        <filter name="red-has-all">
        	<all>
        		<filter name="red-has-south"/>
        		<filter name="red-has-central"/>
        		<filter name="red-has-north"/>
        	</all>
        </filter>
        <filter name="team-has-all">
            <any>
                <filter name="blue-has-all"/>
                <filter name="red-has-all"/>
            </any>
        </filter>
        <filter name="blue-not-red">
        	<all>
        		<filter name="blue-has-all"/>
        		<not>
        			<filter name="red-has-all"/>
        		</not>
        	</all>
        </filter>
        <filter name="red-not-blue">
        	<all>
        		<filter name="red-has-all"/>
        		<not>
        			<filter name="blue-has-all"/>
        		</not>
        	</all>
        </filter>
        <filter name="none">
        	<any>
        		<filter name="blue-not-red"/>
        		<filter name="red-not-blue"/>
        	</any>
        </filter>
    </filters>
    <regions>
        <rectangle name="map" min="oo,oo" max="-oo,-oo"/>
        <rectangle name="field" min="-648,-82" max="-717,-179"/>
        <apply block="deny-blocks">
            <region name="map"/>
        </apply>
    </regions>
    <flags>
        <post id="central-post">-682.5,10,-130.5</post>
        <flag name="Central Flag" id="central-flag" color="white" shared="true" post="central-post">
        	<net id="center-net" region="field" points="1" post="central-post" capture-filter="none"/>
            <pickup-kit force="true">
		        <potion duration="3">slow</potion>
		    </pickup-kit>
		</flag>
        <post id="south-post">-708.5,3,-99.5</post>
        <flag name="South Flag" id="south-flag" color="white" shared="true" post="south-post">
        	<net id="south-net" region="field" points="1" post="south-post" capture-filter="none"/>
            <pickup-kit force="true">
		        <potion duration="3">slow</potion>
		    </pickup-kit>
		</flag>
        <post id="north-post">-656.5,3,-161.5</post>
        <flag name="North Flag" id="north-flag" color="white" shared="true" post="north-post">
        	<net id="north-net" region="field" points="1" post="north-post" capture-filter="none"/>
            <pickup-kit force="true">
		        <potion duration="3">slow</potion>
		    </pickup-kit>
		</flag>
    </flags>
    <hunger>
        <depletion>off</depletion>
    </hunger>
    <itemremove>
        <item>iron sword</item>
        <item>bow</item>
        <item>iron chestplate</item>
        <item>leather leggings</item>
        <item>leather boots</item>
    </itemremove>
    <toolrepair>
        <tool>iron sword</tool>
        <tool>arrow</tool>
    </toolrepair>
    <timelock>on</timelock>
    <time result="objectives">10m</time>
</map>
