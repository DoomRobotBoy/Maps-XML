<map proto="1.4.0">
<name>Ward</name>
<version>1.0.0</version>
<objective>Destroy 80% of the enemy castle!</objective>
<authors>
    <author uuid="dff980ed-9f69-491e-b79c-30c21350baf2"/>
<!--  DoomRobotBoy  -->
</authors>
<teams>
    <team id="red" color="dark red" max="24" max-overfill="27">Red Team</team>
    <team id="blue" color="blue" max="24" max-overfill="27">Blue Team</team>
</teams>
<broadcasts>
	<tip after="2s" every="3m" count="oo">`3`oDestroy `6`o80% `3`oof the enemy castle to win!</tip>
	<tip after="4s" every="3m" count="oo">`3`oThe castles can only be destroyed with `6`oTNT.</tip>
	<tip after="6s" every="3m" count="oo">`6`oTNT `3`ois a killreward, which can only be earned when your team has control of the `6`oCenter hill.</tip>
	<tip after="10s" every="3m" count="oo">`3`oYou have a `6`odefenders kit `3`oin the castle, and an `6`oattackers kit `3`ooutside it.</tip>
	<tip after="12s" every="3m" count="oo">`6`oDefenders `3`oget blocks for every second kill to repair the castle with.</tip>
	<tip after="14s" every="3m" count="oo">`3`oYou cannot place wood above y=20, TNT however can be placed anywhere.</tip>
</broadcasts>
<kits>
    <kit id="spawn">
        <item slot="0" damage="-3000">iron sword</item>
        <item slot="1" damage="-3000" enchantment="arrow infinite;arrow damage">bow</item>
        <item slot="2" damage="-3000" attributes="generic.movementSpeed:add:-0.1" enchantment="arrow infinite:arrow knockback">bow</item>
        <item slot="28">arrow</item>
        <chestplate locked="true" damage="-3000">iron chestplate</chestplate>
    </kit>
    <kit id="red-kit" parents="spawn">
        <leggings damage="-3000" color="993333">leather leggings</leggings>
        <boots damage="-3000" color="993333">leather boots</boots>
    </kit>
    <kit id="blue-kit" parents="spawn">
        <leggings damage="-3000" color="334CB2" locked="true">leather leggings</leggings>
        <boots damage="-3000" color="334CB2" locked="true">leather boots</boots>
    </kit>
    <kit id="leave-spawn">
        <item slot="0" damage="-3000" attributes="generic.attackDamage:add:0.1">stone sword</item>
        <item slot="1" damage="-3000" enchantment="arrow infinite">bow</item>
        <item slot="2" enchantment="dig speed:2">iron axe</item>
        <item slot="3" amount="16" lore="`6+4 `eevery kill!">wood</item>
        <item slot="8" lore="`6+1 `eevery third kill!">golden apple</item>
        <item slot="28">arrow</item>
        <chestplate locked="true" damage="-3000">gold chestplate</chestplate>
    </kit>
</kits>
<killreward>
	<item amount="4" lore="`6+4 `eevery kill!">wood</item>
</killreward>
<killreward>
	<filter>
		<wearing><item>gold chestplate</item></wearing>
	</filter>
	<potion duration="2" amplifier="2">regeneration</potion>
</killreward>
<killreward>
	<filter>
		<kill-streak count="3" repeat="true"/>
	</filter>
	<item lore="`6+1 `eevery third kill!">golden apple</item>
</killreward>
<killreward>
	<filter>
		<all>
			<filter name="red-center-hill"/>
			<team>red</team>
		</all>
	</filter>
	<item>tnt</item>
</killreward>
<killreward>
	<filter>
		<all>
			<filter name="blue-center-hill"/>
			<team>blue</team>
		</all>
	</filter>
	<item>tnt</item>
</killreward>
<killreward>
	<filter>
		<all>
			<wearing><item>iron chestplate</item></wearing>
			<kill-streak count="2" repeat="true"/>
		</all>
	</filter>
	<item amount="8" lore="`eUse these blocks to repair your castle.">wood:5</item>
</killreward>
<spawns>
	<spawn team="red" kit="red-kit">
		<regions yaw="90">
			<cylinder base="-23.5,30,100.5"/>
		</regions>
	</spawn>
	<spawn team="blue" kit="blue-kit">
		<regions yaw="90">
			<cylinder base="-159.5,30,100.5"/>
		</regions>
	</spawn>
	<default>
		<regions yaw="0">
			<cylinder base="-94.5,6,155.5"/>
		</regions>
	</default>
</spawns>
<filters>
	<filter id="only-purple">
		<team>purple</team>
	</filter>
	<filter id="only-orange">
		<team>orange</team>
	</filter>
	<filter id="only-wood">
		<block>wood:0</block>
	</filter>
	<filter id="only-some">
		<any>
			<block>tnt</block>
			<block>wood:5</block>
		</any>
	</filter>
	<filter id="no-tnt-center">
		<not>
			<all>
				<any>
					<block>grass</block>
					<block>dirt</block>
					<block>gravel</block>
					<block>cobblestone</block>
					<block>stone</block>
					<block>stained clay</block>
					<block>log_2</block>
					<block>spruce fence</block>
					<block>step</block>
					<block>smooth brick</block>
					<block>stone plate</block>
					<block>spruce stairs</block>
				</any>
				<filter id="allow-world"/>
			</all>
		</not>
	</filter>
	<filter id="no-tnt-castles">
		<not>
			<all>
				<any>
					<block>grass</block>
					<block>dirt</block>
					<block>gravel</block>
					<block>cobblestone</block>
					<block>stone</block>
					<block>stained clay</block>
					<block>ladder</block>
					<block>spruce fence</block>
					<block>spruce stairs</block>
				</any>
				<filter id="allow-world"/>
			</all>
		</not>
	</filter>
	<filter id="deny-void">
		<deny>
			<void/>
		</deny>
	</filter>
<filter id="red-center-hill">
<any>
<objective>hill-nw</objective>
<not>
<any>
<objective team="orange">hill-nw</objective>
<objective team="purple">hill-nw</objective>
</any>
</not>
</any>
</filter>
</filters>
<regions>
	<apply block="no-tnt-center">
		<cuboid id="center" min="-60,0,143" max="-123,27,58"/>
	</apply>
	<apply block="no-tnt-castles">
		<negative>
			<region id="center"/>
		</negative>
	</apply>
	<apply block="only-wood" message="You may only place or break wood under y=20.">
		<cuboid id="wood-place" min="oo,0,oo" max="-oo,20,-oo"/>
	</apply>
	<apply block-place="only-some">
		<negative>
			<union>
				<region id="wood-place"/>
				<region id="center"/>
			</union>
		</negative>
	</apply>
	<apply block="deny-void">
		<rectangle min="oo,oo" max="-oo,-oo"/>
	</apply>
</regions>
<hills>
	<hill id="c-hill" name="Center Control Point" capture-time="10s" points="0" capture-rule="lead" show-progress="true">
		<capture>
			<region id="c-hill-capture"/>
		</capture>
		<progress>
			<region id="c-hill-progress"/>
		</progress>
		<captured>
			<region id="c-hill-progress"/>
		</captured>
	</hill>
</hills>
<itemremove>
	<item>stone sword</item>
	<item>bow</item>
	<item>gold chestplate</item>
	<item>iron chestplate</item>
	<item>leather helmet</item>
	<item>leather leggings</item>
	<item>leather boots</item>
	<item>wood</item>
	<item>leaves:1</item>
	<item>sapling:1</item>
	<item>apple</item>
	<item>arrow</item>
	<item>tnt</item>
	<item>golden apple</item>
	<item>carpet:7</item>
	<item>carpet:11</item>
	<item>carpet:14</item>
	<item>log_2</item>
	<item>double step:3</item>
	<item>step</item>
	<item>smooth brick</item>
	<item>stone plate</item>
	<item>cob</item>
</itemremove>
<disabledamage>
	<damage ally="true" self="false" enemy="false" other="false">block explosion</damage>
</disabledamage>
<tnt>
	<instantignite>on</instantignite>
	<fuse>3s</fuse>
	<power>0.5</power>
	<friendly-defuse>false</friendly-defuse>
	<licensing>false</licensing>
</tnt>
<maxbuildheight>46</maxbuildheight>
<hunger>
	<depletion>off</depletion>
</hunger>
</map>
