<map proto="1.4.0">
<name>Ward</name>
<version>1.0.0</version>
<objective>Tear down the enemy castle using TNT!</objective>
<authors>
    <author uuid="dff980ed-9f69-491e-b79c-30c21350baf2"/>
<!--  DoomRobotBoy  -->
</authors>
<teams>
    <team id="red" color="dark red" max="24" max-overfill="27">Red Team</team>
    <team id="blue" color="blue" max="24" max-overfill="27">Blue Team</team>
</teams>
<kits>
    <kit id="spawn">
        <item slot="0" damage="-3000">iron sword</item>
        <item slot="1" damage="-3000" enchantment="arrow infinite;arrow damage">bow</item>
        <item slot="2" damage="-3000" attributes="generic.movementSpeed:add:-0.1" enchantment="arrow knockback">bow</item>
        <item slot="28">arrow</item>
        <chestplate damage="-3000">iron chestplate</chestplate>
    </kit>
    <kit id="red-kit" parents="spawn">
        <leggings damage="-3000" color="993333">leather leggings</leggings>
        <boots damage="-3000" color="993333">leather boots</boots>
    </kit>
    <kit id="blue-kit" parents="spawn">
        <leggings damage="-3000" color="334CB2" locked="true">leather leggings</leggings>
        <boots damage="-3000" color="334CB2" locked="true">leather boots</boots>
    </kit>
    <kit id="leave-spawn">
        <item slot="0" damage="-3000" attributes="generic.attackDamage:add:0.1">stone sword</item>
        <item slot="1" damage="-3000" enchantment="arrow infinite">bow</item>
        <item slot="2" enchantment="dig speed:2">iron axe</item>
        <item slot="3" amount="16" lore="`6+4 `eevery kill!">wood</item>
        <item slot="8" lore="`6+1 `eevery second kill!">golden apple</item>
        <item slot="28">arrow</item>
        <chestplate damage="-3000">gold chestplate</chestplate>
    </kit>
</kits>
<spawns>
	<spawn team="red" kit="red-kit">
		<regions yaw="90">
			<cylinder base="-23.5,30,100.5"/>
		</regions>
	</spawn>
	<spawn team="blue" kit="blue-kit">
		<regions yaw="90">
			<cylinder base="-159.5,30,100.5"/>
		</regions>
	</spawn>
	<default>
		<regions yaw="0">
			<cylinder base="-94.5,6,155.5"/>
		</regions>
	</default>
</spawns>
<filters>
	<filter name="only-purple">
		<team>purple</team>
	</filter>
	<filter name="only-orange">
		<team>orange</team>
	</filter>
	<filter name="only-wood">
		<block>wood:0</block>
	</filter>
	<filter name="no-tnt-center">
		<not>
			<all>
				<any>
					<block>grass</block>
					<block>dirt</block>
					<block>gravel</block>
					<block>cobblestone</block>
					<block>stone</block>
					<block>stained clay</block>
					<block>log_2</block>
					<block>spruce fence</block>
					<block>step</block>
					<block>smooth brick</block>
					<block>stone plate</block>
					<block>spruce stairs</block>
				</any>
				<filter name="allow-world"/>
			</all>
		</not>
	</filter>
	<filter name="no-tnt-castles">
		<not>
			<all>
				<any>
					<block>grass</block>
					<block>dirt</block>
					<block>gravel</block>
					<block>cobblestone</block>
					<block>stone</block>
					<block>stained clay</block>
					<block>ladder</block>
					<block>spruce fence</block>
					<block>spruce stairs</block>
				</any>
				<filter name="allow-world"/>
			</all>
		</not>
	</filter>
	<filter name="deny-void">
		<deny>
			<void/>
		</deny>
	</filter>
<filter name="objective-inclusive-nw">
<any>
<objective>hill-nw</objective>
<not>
<any>
<objective team="orange">hill-nw</objective>
<objective team="purple">hill-nw</objective>
</any>
</not>
</any>
</filter>
<filter name="objective-inclusive-se">
<any>
<objective>hill-se</objective>
<not>
<any>
<objective team="orange">hill-se</objective>
<objective team="purple">hill-se</objective>
</any>
</not>
</any>
</filter>
<filter name="objective-exclusive">
<all>
<objective>hill-se</objective>
<objective>hill-nw</objective>
</all>
</filter>
<filter name="objective-single-se">
<objective>hill-se</objective>
</filter>
<filter name="objective-single-nw">
<objective>hill-nw</objective>
</filter>
</filters>
<regions>
	<apply block="only-wood" message="You may only place or break wood under y=20.">
		<cuboid min="oo,0,oo" max="-oo,20,-oo"/>
	</apply>
	<apply block="no-tnt-center">
		<cuboid id="center" min="-60,0,143" max="-123,27,58"/>
	</apply>
	<apply block="no-tnt-castles">
		<negative>
			<region id="center"/>
		</negative>
	</apply>
	<apply block="deny-void">
		<rectangle min="oo,oo" max="-oo,-oo"/>
	</apply>
</regions>
<hills>
<hill id="hill-nw" name="North West Hill" capture-time="12s" points="1" capture-rule="lead" show-progress="true">
<capture>
<region name="hill-nw-capture"/>
</capture>
<progress>
<region name="hill-nw-progress"/>
</progress>
<captured>
<union>
<region name="hill-nw-captured"/>
<region name="nw-jump-complete"/>
</union>
</captured>
</hill>
</hills>
<hills>
<hill id="hill-se" name="South East Hill" capture-time="12s" points="1" capture-rule="lead" show-progress="true">
<capture>
<region name="hill-se-capture"/>
</capture>
<progress>
<region name="hill-se-progress"/>
</progress>
<captured>
<union>
<region name="hill-se-captured"/>
<region name="se-jump-complete"/>
</union>
</captured>
</hill>
</hills>
<portals>
<portal enter="purple-box" x="@-66.5" y="@48" z="@-47.5" yaw="@-47">
<region>
<cuboid min="-69,40,-46" max="-65,42,-50"/>
</region>
</portal>
<portal enter="orange-box" x="@31.5" y="@48" z="@-145.5" yaw="@45">
<region>
<cuboid min="33,40,-148" max="29,42,-144"/>
</region>
</portal>
</portals>
<itemremove>
<item>stone sword</item>
<item>bow</item>
<item>leaves:1</item>
<item>sapling:1</item>
<item>apple</item>
<item>arrow</item>
<item>tnt</item>
<item>golden apple</item>
<item>gold chestplate</item>
<item>chainmail chestplate</item>
<item>leather leggings</item>
<item>leather boots</item>
<item>iron boots</item>
<item>gold boots</item>
<item>wool:15</item>
<item>wool:7</item>
<item>wool:9</item>
<item>carpet:15</item>
<item>carpet:8</item>
<item>carpet:7</item>
<item>carpet:9</item>
</itemremove>
<killreward>
<item amount="6">arrow</item>
<item damage="1" amount="3" lore="`r`c+3 `7every kill!">leaves</item>
</killreward>
<killreward>
<filter>
<kill-streak count="2" repeat="true"/>
</filter>
<item lore="`r`c+1 `7every `b2 `7kills!">golden apple</item>
</killreward>
<killreward>
<filter>
<kill-streak count="5" repeat="true"/>
</filter>
<item>tnt</item>
</killreward>
<disabledamage>
<damage>fall</damage>
<damage ally="true" self="false" enemy="false" other="false">block explosion</damage>
</disabledamage>
<tnt>
<instantignite>on</instantignite>
<friendly-defuse>off</friendly-defuse>
<licensing>off</licensing>
<fuse>3s</fuse>
</tnt>
<maxbuildheight>50</maxbuildheight>
<hunger>
<depletion>off</depletion>
</hunger>
<broadcasts>
<tip after="2s" every="3m" count="2">
`r`bCapture the hills to gain access to small advantages!
</tip>
<tip after="15s" every="2m" count="5">
`r`bThe `owool island `r`bis located on the lower floor, in the center!
</tip>
<tip after="16s" every="4m" count="2">
`r`bCollect `8grey `bwool by controlling 1 of the 2 hills then entering the wool island
</tip>
<tip after="16s" every="4m" count="2">
`r`bCollect `0black `bwool by controlling both hills then entering the wool island
</tip>
<tip after="30s" every="4m" count="3">
`r`bReturn the wool to your team's scorebox to gain extra points!
</tip>
<tip after="31s" every="4m" count="3">
`r`8Grey `bwool is worth `96 points`b, while `0black `bwool is worth `912 points`b!
</tip>
<tip after="45s" every="6m" count="2">
`r`bThe outer jump pads (NW, SE) are controlled by the hills! When the hill is in a neural state, anyone can use them. However, when a team owns the hill, only they will be able to use that jump pad!
</tip>
<tip after="2m">`r`bTNT is rewarded after 5 kills!</tip>
</broadcasts>
<proximity-alarms>
<proximity-alarm flare-radius="6">
<region>
<region name="wool-island-complete"/>
</region>
<detect>
<any>
<all>
<team>orange</team>
<any>
<objective team="orange">hill-nw</objective>
<objective team="orange">hill-se</objective>
</any>
</all>
<all>
<team>purple</team>
<any>
<objective team="purple">hill-nw</objective>
<objective team="purple">hill-se</objective>
</any>
</all>
</any>
</detect>
</proximity-alarm>
</proximity-alarms>
</map>
